package carstuff;

public class Garage {

    private Car[] parking;

    public Garage(int size) {
        if (size < 1) size = 1;
        if (size > 10) size = 10;
        parking = new Car[size];
    }

    // display cars like the sample run
    public void displayCars() {
        System.out.println("Here are the current cars.");
        for (int i = 0; i < parking.length; i++) {
            System.out.print("Space " + (i + 1) + ": ");
            if (parking[i] == null) {
                System.out.println("null");
            } else {
                System.out.println(parking[i]);
            }
        }
    }

    // addFuelToCar(int space, double amount): double
    public double addFuelToCar(int space, double fuelToAdd) {
        int idx = space - 1;
        if (idx < 0 || idx >= parking.length) {
            System.out.println("THere is no car in that space!");
            return 0.0;
        }
        Car c = parking[idx];
        if (c == null) {
            System.out.println("THere is no car in that space!");
            return 0.0;
        }
        return c.addFuelToTank(fuelToAdd);
    }

    // get a car (remove from garage)
    public Car getCar(int space) {
        int idx = space - 1;
        if (idx < 0 || idx >= parking.length) return null;
        Car c = parking[idx];
        parking[idx] = null;
        return c;
    }

    // park a car (first free slot)
    public boolean parkCar(Car c) {
        for (int i = 0; i < parking.length; i++) {
            if (parking[i] == null) {
                parking[i] = c;
                return true;
            }
        }
        return false;
    }

    // helper: are there any cars?
    public boolean isEmpty() {
        for (Car c : parking) {
            if (c != null) return false;
        }
        return true;
    }

    public int getSize() {
        return parking.length;
    }

    public boolean hasSpace() {
        for (Car c : parking) {
            if (c == null) return true;
        }
        return false;
    }
}
